// Generated by CoffeeScript 2.3.1
(function() {
  var Browser, app, assert, browser, http, server;

  Browser = require('zombie');

  http = require('http');

  assert = require('assert');

  Browser.localhost('www.cinema.com', 4140);

  browser = new Browser;

  browser.waitDuration = '30s';

  app = require('../app.js');

  server = http.Server(app);

  server.on('error', function(error) {
    console.log('during test occurs *error*::');
    return console.error(error.message);
  });

  server.listen(4140);

  // start assertions.
  describe('Include /alpha/sample-html2form::', function() {
    describe('basically::', function() {
      before(function() {
        // browser support listen event
        //browser.on 'active',(window)->console.log window.innerWidth,'pixes.'
        return browser.visit('http://www.cinema.com/alpha/sample-html2form');
      });
      return it('should be accessible::', function() {
        return browser.assert.success();
      });
    });
    return describe('submit postfix::', function() {
      var flag;
      flag = false;
      before(function() {
        browser.on('submit', function(event, target) {
          console.log('trigger %s event,target is %s.', event, target);
          return flag = !flag;
        });
        return browser.pressButton('.idoido');
      });
      return it('should trigger ajax submit::', function() {
        return assert.equal(flag, true);
      });
    });
  });

}).call(this);
