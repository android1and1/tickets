// Generated by CoffeeScript 2.3.1
(function() {
  $(function() {
    var idb, obj, request;
    if (!window.indexedDB) {
      return alert('Your Browser Dont Support Html5-IndexedDB functionation.');
    } else {
      idb = window.indexedDB;
      obj = {
        name: 'testone',
        version: 6,
        db: null
      };
      //request = idb.open obj.name,obj.version
      request = idb.open(obj.name);
      request.onupgradeneeded = function(evt) {
        obj.db = this.result;
        return console.log('on upgrade needed event triggered.');
      };
      request.onerror = function(evt) {
        //console.error 'got error,code:',request.errorCode 
        return console.error('got error,code:', this.errorCode);
      };
      request.onsuccess = function(evt) {
        //obj.db = evt.target.result
        //obj.db = request.result
        //obj.db = @result
        return console.log('on sucess event triggered.');
      };
      return setTimeout(function() {
        obj.db.close();
        idb.deleteDatabase(obj.name);
        return console.log('bye.');
      }, 1000);
    }
  });

}).call(this);
