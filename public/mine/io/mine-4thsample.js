// Generated by CoffeeScript 2.3.1
(function() {
  $(function() {
    var chat;
    chat = io.connect('http://127.0.0.1:8111/chat');
    chat.on('connect', function() {
      return chat.emit('user.register', 'Wang Yong');
    });
    chat.on('user.registered', function(msg) {
      return alert(msg);
    });
    chat.on('message', function(msg) {
      return $('ul#box').append('<li>' + msg + '</li>');
    });
    return $('#onlyform').on('submit', function(evt) {
      var $towho, $youtoo;
      evt.preventDefault();
      evt.stopPropagation();
      // towho,youtoo
      $towho = $('#towho').val();
      $youtoo = $('#youtoo').val();
      return chat.emit('private message', $towho, $youtoo);
    });
  });

}).call(this);
